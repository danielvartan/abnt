$if(graphics)$
% \usepackage{graphicx}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother

% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}

% Set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother
$endif$

\makeatletter
\setlength{\@fptop}{5pt} % Set distance from top of page to first float
\makeatother

\captionsetup{
  font=footnotesize, % Must be `\ABNTEXfontereduzida` equivalent.
  justification=centering,
  skip=16.3125pt % Skip between caption and figure (`0.75\baselineskip`).
}

\renewcommand{\legend}[1]{
  \addvspace{0.75\baselineskip}
  \ABNTEXfontereduzida \raggedright #1
}

% % Credits: <https://stackoverflow.com/a/1566053/8258804>.
% \makeatletter
% \let\oldfigure\figure
% \def\figure{\@ifnextchar[\figure@i \figure@ii}
% \def\figure@i[#1]{\oldfigure[#1]\centering}
% \def\figure@ii{\oldfigure\centering}
% \makeatother
