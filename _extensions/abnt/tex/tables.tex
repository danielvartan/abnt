\renewcommand{\arraystretch}{1}
\setlength{\aboverulesep}{0ex}
\setlength{\belowrulesep}{0ex}

% Correct order of tables after \paragraph or \subparagraph
\usepackage{etoolbox}
\makeatletter
\patchcmd\longtable{\par}{\if@noskipsec\mbox{}\fi\par}{}{}
\makeatother

% Allow footnotes in longtable head/foot
\IfFileExists{footnotehyper.sty}{\usepackage{footnotehyper}}{\usepackage{footnote}}
\makesavenoteenv{longtable}

% Set tabular environment -----

% \providecommand{\addquartolegend}{}
% \newcommand{\quartolegend}[1]{\renewcommand{\addquartolegend}{#1}}
% \renewcommand{\quartolegend}{Don't forget to set \verb|\quartolegend|!}

\AtBeginEnvironment{table}{\ABNTEXfontereduzida}
\AtBeginEnvironment{tabular}{\ABNTEXfontereduzida}

\AddToHook{env/longtable/before}{}
\AddToHook{env/longtable/after}{}
\AddToHook{env/longtable/begin}{
  \ABNTEXfontereduzida
  \renewcommand{\arraystretch}{1}
}
\AddToHook{env/longtable/end}{}

\AddToHook{env/longtable*/begin}{
  \ABNTEXfontereduzida
  \renewcommand{\arraystretch}{1}
}
\AddToHook{env/longtable*/end}{}

\floatplacement{table}{H}
